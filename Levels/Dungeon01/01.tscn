[gd_scene load_steps=12 format=4 uid="uid://du43gh0iaockg"]

[ext_resource type="Script" uid="uid://gmpt3se7oed1" path="res://Levels/scripts/level.gd" id="1_ux7ia"]
[ext_resource type="PackedScene" uid="uid://6c813gpotmec" path="res://Levels/player_spawn.tscn" id="2_2la2r"]
[ext_resource type="AudioStream" uid="uid://cnri55i1pvodj" path="res://Levels/Music/example_music_03.ogg" id="2_uejuh"]
[ext_resource type="PackedScene" uid="uid://bb0ycm44mxofe" path="res://Levels/level_transition.tscn" id="3_2la2r"]
[ext_resource type="PackedScene" uid="uid://cg5wphk4fstcm" path="res://Tile Maps/dungeon-tiles-01.tscn" id="3_uejuh"]
[ext_resource type="PackedScene" uid="uid://ds8xpl317dck1" path="res://Interactables/Dungeon/pressure_plate.tscn" id="5_swvnj"]
[ext_resource type="PackedScene" uid="uid://dfao1r52i6rrt" path="res://quests/utility_nodes/quest_activated_switch.tscn" id="6_54q72"]
[ext_resource type="PackedScene" uid="uid://cmtv281o7w0ch" path="res://Interactables/Dungeon/barred_door.tscn" id="6_m3xjo"]
[ext_resource type="PackedScene" uid="uid://cq546xmyh16lb" path="res://quests/utility_nodes/quest_advance_trigger.tscn" id="6_sha80"]
[ext_resource type="PackedScene" uid="uid://c3sm25e1issmv" path="res://Interactables/Dungeon/pushable_statue.tscn" id="7_4dhgi"]
[ext_resource type="Resource" uid="uid://d2k348kbuqax4" path="res://quests/recover_lost_flute.tres" id="7_54q72"]

[node name="01" type="Node2D"]
script = ExtResource("1_ux7ia")
music = ExtResource("2_uejuh")

[node name="dungeon-tiles-01" parent="." instance=ExtResource("3_uejuh")]
z_index = -1
tile_map_data = PackedByteArray("AAAAAP//AgAJAAAAAAAAAAAAAgAJAAEAAAAAAAEAAgAJAAIAAAAAAAIAAgAJAAMAAAAAAAMAAgAJAAEAAAAAAAQAAgAJAAIAAAAAAAUAAgAJAAMAAAAAAAYAAgAJAAQAAAAAAAcAAgAJAAUAAAAAAAgAAgAJAAYAAAABAP//AgAKAAAAAAABAAAAAgAKAAEAAAABAAEAAgAKAAIAAAABAAIAAgAKAAMAAAABAAMAAgAKAAMAAAABAAQAAgAKAAMAAAABAAUAAgAKAAMAAAABAAYAAgAKAAQAAAABAAcAAgAKAAUAAAABAAgAAgAKAAYAAAACAP//AgALAAAAAAACAAAAAgALAAEAAAACAAEAAgALAAIAAAACAAIAAgALAAMAAAACAAMAAgALAAMAAAACAAQAAgALAAMAAAACAAUAAgALAAMAAAACAAYAAgALAAQAAAACAAcAAgALAAUAAAACAAgAAgALAAYAAAADAP//AgALAAAAAAADAAAAAgAMAAEAAAADAAEAAgAMAAIAAAADAAIAAgAAAAAAAAADAAMAAgAAAAIAAAADAAQAAgABAAAAAAADAAUAAgAAAAMAAAADAAYAAgAMAAQAAAADAAcAAgAMAAUAAAADAAgAAgAMAAYAAAAEAP//AgAEAAUAAAAEAAAAAgAEAAYAAAAEAAEAAgAEAAcAAAAEAAIAAgAAAAAAAAAEAAMAAgABAAAAAAAEAAQAAgABAAAAAAAEAAUAAgABAAMAAAAEAAYAAgAAAAUAAAAEAAcAAgAAAAYAAAAEAAgAAgAAAAcAAAAFAP//AgAHAAUAAAAFAAAAAgAHAAYAAAAFAAEAAgAHAAcAAAAFAAIAAgACAAAAAAAFAAMAAgABAAAAAAAFAAQAAgABAAAAAAAFAAUAAgABAAAAAAAFAAYAAgADAAUAAAAFAAcAAgADAAYAAAAFAAgAAgADAAcAAAAGAP//AgAEAAUAAAAGAAAAAgAEAAYAAAAGAAEAAgAEAAcAAAAGAAIAAgACAAAAAAAGAAMAAgABAAAAAAAGAAQAAgABAAAAAAAGAAUAAgABAAAAAAAGAAYAAgAAAAUAAAAGAAcAAgAAAAYAAAAGAAgAAgAAAAcAAAAHAP//AgAFAAUAAAAHAAAAAgAFAAYAAAAHAAEAAgAFAAcAAAAHAAIAAgACAAAAAAAHAAMAAgABAAAAAAAHAAQAAgABAAAAAAAHAAUAAgABAAAAAAAHAAYAAgABAAUAAAAHAAcAAgABAAYAAAAHAAgAAgABAAcAAAAIAP//AgAGAAUAAAAIAAAAAgAGAAYAAAAIAAEAAgAGAAcAAAAIAAIAAgACAAAAAAAIAAMAAgABAAAAAAAIAAQAAgABAAAAAAAIAAUAAgABAAAAAAAIAAYAAgACAAUAAAAIAAcAAgACAAYAAAAIAAgAAgACAAcAAAAJAP//AgAHAAUAAAAJAAAAAgAHAAYAAAAJAAEAAgAHAAcAAAAJAAIAAgACAAAAAAAJAAMAAgABAAEAAAAJAAQAAgABAAIAAAAJAAUAAgABAAAAAAAJAAYAAgADAAUAAAAJAAcAAgADAAYAAAAJAAgAAgADAAcAAAAKAP//AgAEAAUAAAAKAAAAAgAEAAYAAAAKAAEAAgAEAAcAAAAKAAIAAgADAAAAAAAKAAMAAgACAAEAAAAKAAQAAgAAAAEAAAAKAAUAAgAAAAIAAAAKAAYAAgAAAAUAAAAKAAcAAgAAAAYAAAAKAAgAAgAAAAcAAAALAP//AgAHAAUAAAALAAAAAgAHAAYAAAALAAEAAgAHAAcAAAALAAIAAgADAAAAAAALAAMAAgACAAEAAAALAAQAAgABAAEAAAALAAUAAgABAAIAAAALAAYAAgADAAUAAAALAAcAAgADAAYAAAALAAgAAgADAAcAAAAMAP//AgALAAAAAAAMAAAAAgAMAAEAAAAMAAEAAgAMAAIAAAAMAAIAAgADAAAAAAAMAAMAAgACAAEAAAAMAAQAAgACAAEAAAAMAAUAAgACAAIAAAAMAAYAAgAMAAQAAAAMAAcAAgAMAAUAAAAMAAgAAgAMAAYAAAANAP//AgAMAAAAAAANAAAAAgANAAEAAAANAAEAAgANAAIAAAANAAIAAgANAAMAAAANAAMAAgANAAMAAAANAAQAAgANAAMAAAANAAUAAgANAAMAAAANAAYAAgANAAQAAAANAAcAAgANAAUAAAANAAgAAgANAAYAAAAOAP//AgANAAAAAAAOAAAAAgAOAAEAAAAOAAEAAgAOAAIAAAAOAAIAAgAOAAMAAAAOAAMAAgAOAAMAAAAOAAQAAgAOAAMAAAAOAAUAAgAOAAMAAAAOAAYAAgAOAAQAAAAOAAcAAgAOAAUAAAAOAAgAAgAOAAYAAAAPAP//AgAPAAAAAAAPAAAAAgAPAAEAAAAPAAEAAgAPAAIAAAAPAAIAAgAPAAEAAAAPAAMAAgAPAAEAAAAPAAQAAgAPAAIAAAAPAAUAAgAPAAMAAAAPAAYAAgAPAAQAAAAPAAcAAgAPAAUAAAAPAAgAAgAPAAYAAAA=")

[node name="PlayerSpawn" parent="." instance=ExtResource("2_2la2r")]
position = Vector2(391, 160)

[node name="LevelTransition" parent="." instance=ExtResource("3_2la2r")]
position = Vector2(256, 208)
level = "uid://c7ybst78fw08y"
target_transition_area = "LevelTransition3"
center_player = true
side = 3

[node name="QuestActivatedSwitch" parent="LevelTransition" instance=ExtResource("6_54q72")]
check_type = 1
remove_when_activated = true
free_on_remove = true
linked_quest = ExtResource("7_54q72")
quest_step = 1
settings_summary = "UPDATE QUEST:
Quest: Recover Lost Flute
Checking if player has completed step: find the dungeon entrance"

[node name="QuestAdvanceTrigger" parent="LevelTransition/QuestActivatedSwitch" instance=ExtResource("6_sha80")]
position = Vector2(-256, -208)
signal_name = "entered_from_here"
linked_quest = ExtResource("7_54q72")
quest_step = 1
settings_summary = "UPDATE QUEST:
Quest: Recover Lost Flute
Step: 1 - find the dungeon entrance
Complete: false"

[node name="LevelTransition2" parent="." instance=ExtResource("3_2la2r")]
position = Vector2(256, 48)
level = "uid://cvpenc0kgrvif"
side = 2

[node name="PressurePlate" parent="." instance=ExtResource("5_swvnj")]
z_index = -1
position = Vector2(192, 112)

[node name="BarredDoor" parent="." instance=ExtResource("6_m3xjo")]
position = Vector2(224, 54)

[node name="PushableStatue" parent="." instance=ExtResource("7_4dhgi")]
position = Vector2(336, 115)
persistent = true
persistent_location = Vector2(191, 114)

[connection signal="enetered_from_here" from="LevelTransition" to="LevelTransition/QuestActivatedSwitch/QuestAdvanceTrigger" method="advance_quest"]
[connection signal="activated" from="PressurePlate" to="BarredDoor" method="open_door"]
[connection signal="deactivated" from="PressurePlate" to="BarredDoor" method="close_door"]
